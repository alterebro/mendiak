// Vars
@mobile 	: ~"all and (max-width: 580px)";
@transition-ms : .5s;

:root {
    --color-primary: #626866;
    --color-complementary: #cbcbcb;
    --color-dark: #181818;
    --color-light: #8b8b8b;
}

// Pseudo reset-normalizer
section, header, footer, svg { display: block; }
html, body, h1, p, svg, button {
    margin: 0;
    padding: 0;
}

// UI Layout
html {
    line-height: 1;
	text-size-adjust: 100%;
	box-sizing: border-box;
	font-size: 62.5%;
	tab-size: 4;
	word-break: break-word;
    cursor: default;
}
body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
    font-size: 1.6em;
    font-weight: 400;
    line-height: 1.5;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow-y: scroll;
    padding: 2rem;
    background: var(--color-primary);
    transition: background @transition-ms ease-in-out;

    // Background
    &:before {
        content: '';
        display: block;
        z-index: -1;
        position: fixed;
        width: 100%;
        height: 100%;
        background-image: radial-gradient(circle farthest-corner, transparent, rgba(0, 0, 0, .5));
    }

    // Preloader
    &:after {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 1);
        z-index: 10;
        transition:
            background @transition-ms ease-out,
            height @transition-ms linear @transition-ms;
    }
    &.ready:after {
        background: rgba(0, 0, 0, 0);
        height: 0%;
    }
}
html, body {
    height: 100%;
    width: 100%;
}
*, *:before, *:after {
	box-sizing: inherit;
	background-repeat: no-repeat;
}


section {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    max-width: 840px;
    margin: auto;
    font-size: 1.2rem;

    #mendiak {
        order: 0;
        flex: 1 1 100%;
        position: relative;
        background: #fff;
        border: solid #fff 1rem;
        border-radius: 1px;
        box-shadow:
            0 5px 50px 10px rgba(0, 0, 0, .1),
            0 20px 20px -10px rgba(0, 0, 0, .35);

        svg {
            width: 100%;
            height: auto;
            border-radius: 3px;
        }

        &:after {
            content: '';
            position: absolute;
            top: 0;
            display: block;
            width: 100%;
            height: 100%;
            z-index: 1;
            box-shadow: inset 0 0 3px 0 rgba(0, 0, 0, .25);
            border-radius: 3px;
        }
    }

    > header {
        order: 1;
        flex: 1 1 auto;
        transition: color @transition-ms ease-in-out;
        color: rgba(255, 255, 255, .75);
        text-shadow: 0 -1px 0 rgba(0, 0, 0, .35);

        h1 {
            font-size: 100%;
            font-weight: 700;
            position: relative;
            font-size: 1.3rem;

            span[lang] {
                display: none;

                &[class^="rotating-text-guest"] {
                    position: relative;
                    top: 0;
                    display: block;
                    transition:
                        transform .75s cubic-bezier(.9, 0, .1, 1),
                        opacity .75s cubic-bezier(.9, 0, .1, 1);
                    transform-origin: top center;
                    transform: rotateX(0deg) scaleY(1);
                    opacity: 1;
                    z-index: 1;
                }
                &.rotating-text-guest-hidden {
                    position: absolute;
                    width: 100%;
                    transform-origin: bottom center;
                    transform: rotateX(90deg) scaleY(0);
                    opacity: 0.25;
                    z-index: 0;
                }
            }
        }
        a {
            text-decoration: none;
            border-bottom: solid rgba(255, 255, 255, .1) 1px;
            color: var(--color-light);
            transition:
                color @transition-ms/2 ease-in-out,
                border-bottom @transition-ms/2 ease-in-out;
            &:hover {
                border-bottom: solid var(--color-light) 1px;
                color: #fff;
            }
        }
        span[title="copyleft"] {
            display: inline-block;
            padding: 0 2px 0 0;
            transform: rotateY(180deg);
        }
    }

    > footer {
        order: 2;
        flex: 0 0 auto;
        align-self: flex-end;
        text-align: right;

        button {
            display: inline-block;
            font: inherit;
            cursor: pointer;
            padding: 6px 12px 6px 30px;
            margin: 0 0 0 .5rem;
            text-transform: none;
            text-shadow: 0 -1px 0 rgba(0, 0, 0, .35);
            border: none;
            border-radius: 3px;
            box-shadow: 0 -1px 0 rgba(0, 0, 0, .25), inset 0 -1px 0 rgba(255, 255, 255, .1);
            color: rgba(255, 255, 255, .75);
            background-color: var(--color-primary);
            background-size: 12px;
            background-repeat: no-repeat;
            background-position: 10px center;

            transition:
                color @transition-ms/2 ease-in-out,
                background-color @transition-ms/2 ease-in-out;

            &:hover:not(:focus) {
                color: rgba(255, 255, 255, .99);
                background-color: var(--color-dark);
            }
            &:focus { outline: none; }

            &#update { background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E %3Cpath fill='%23fff' opacity='.8' d='M500 0h-47a12 12 0 0 0-12 13l4 82A247 247 0 0 0 256 8a248 248 0 0 0 0 496 247 247 0 0 0 166-64 12 12 0 0 0 1-17l-34-34a12 12 0 0 0-17-1 176 176 0 1 1 30-230l-101-5a12 12 0 0 0-13 12v47a12 12 0 0 0 12 12h200a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z'/%3E %3C/svg%3E"); }
            &#save { background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E %3Cpath fill='%23fff' opacity='.8' d='M216 0h80c13 0 24 11 24 24v168h88c17 0 26 22 14 34L270 378c-8 8-20 8-28 0L90 226c-13-13-4-34 14-34h88V24c0-13 11-24 24-24zm296 376v112c0 13-11 24-24 24H24c-13 0-24-11-24-24V376c0-13 11-24 24-24h147l49 49c20 20 52 20 72 0l49-49h147c13 0 24 11 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z'/%3E %3C/svg%3E"); }
        }
    }

    > header, > footer {
        margin: 1.2rem 0 0 0;
        padding: 1rem 1rem 2rem;
        overflow: hidden;
        opacity: 1;
        max-height: 80px;
        transition:
            padding @transition-ms/2 ease-in,
            max-height @transition-ms/2 ease-in,
            opacity @transition-ms/2 ease-in;

        &.hidden {
            opacity: 0;
            max-height: 0;
            padding: 0 1rem;
        }
    }
}

@media @mobile {

    body { padding: 1.2rem; }
    section {
        font-size: 1.1rem;

        #mendiak { border: solid #fff .5rem; }

        > header {
            flex: 1 1 100%;
            text-align: center;
            margin: 1rem 0 0 0;
            padding: 1rem;
        }

        > footer {
            flex: 1 1 100%;
            text-align: center;
            margin: 0;
            padding: .5rem .5rem 2rem .5rem;
            button {
                margin: 0 .25rem;
                font-size: 1rem;
            }
        }
    }
}
